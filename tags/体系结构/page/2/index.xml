<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>体系结构 on yoogo</title><link>https://blog.yoogo.top/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</link><description>Recent content in 体系结构 on yoogo</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>CC BY 4.0 CN</copyright><lastBuildDate>Tue, 04 Dec 2018 17:40:50 +0000</lastBuildDate><atom:link href="https://blog.yoogo.top/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/index.xml" rel="self" type="application/rss+xml"/><item><title>java学习笔记-spring datasource加载driver分析</title><link>https://blog.yoogo.top/2020/10/spring-datasource%E5%8A%A0%E8%BD%BDdriver%E5%88%86%E6%9E%90/</link><pubDate>Mon, 12 Oct 2020 22:53:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/10/spring-datasource%E5%8A%A0%E8%BD%BDdriver%E5%88%86%E6%9E%90/</guid><description>默认HikariDataSource 创建测试项目，引入相关包 &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;spring-boot-starter-jdbc&amp;lt;/artifactId&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;com.h2database&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;h2&amp;lt;/artifactId&amp;gt; &amp;lt;scope&amp;gt;runtime&amp;lt;/scope&amp;gt; &amp;lt;/dependency&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;org.postgresql&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;postgresql&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;42.2.17&amp;lt;/version&amp;gt; &amp;lt;/dependency&amp;gt; spring boot会在启动时DataSourceConfig</description></item><item><title>flyway初次实践</title><link>https://blog.yoogo.top/2020/10/flyway%E5%88%9D%E6%AC%A1%E5%AE%9E%E8%B7%B5/</link><pubDate>Sat, 10 Oct 2020 22:27:01 +0000</pubDate><guid>https://blog.yoogo.top/2020/10/flyway%E5%88%9D%E6%AC%A1%E5%AE%9E%E8%B7%B5/</guid><description>为什么需要flyway/liquibase 准确的说应该是为什么需要database migrations？ 方便于多环境下的数据结构一致，例如多</description></item><item><title>Streaming PostgreSQL Updates to Kafka with Debezium</title><link>https://blog.yoogo.top/2020/10/streaming-postgresql-updates-to-kafka-with-debezium-in-k8s/</link><pubDate>Fri, 02 Oct 2020 15:39:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/10/streaming-postgresql-updates-to-kafka-with-debezium-in-k8s/</guid><description>setup kubectl create namespace kafka-connect-tutorial kubectl config set-context --current --namespace kafka-connect-tutorial # optional kafka helm install kafka --namespace kafka-connect-tutorial apphub/kafka --set external.enabled=true,global.storageClass=fast,persistence.size=1Gi Kafka Connect client cat &amp;gt; kafka-client-deploy.yaml &amp;lt;&amp;lt;EOF # kafka-client-deploy.yaml apiVersion: v1 kind: Pod metadata: name: kafka-client spec: containers: - name: kafka-client image: confluentinc/cp-kafka:5.0.1 command: - sh - -c - &amp;quot;exec tail -f /dev/null&amp;quot; EOF kubectl create -f kafka-client-deploy.yaml -n kafka-connect-tutorial kubectl -n kafka-connect-tutorial exec kafka-client -- kafka-topics --zookeeper</description></item><item><title>k8s &amp; rbd</title><link>https://blog.yoogo.top/2020/10/k8scephrbd/</link><pubDate>Fri, 02 Oct 2020 01:09:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/10/k8scephrbd/</guid><description>创建 secret kubectl create secret generic ceph-secret --type=&amp;quot;kubernetes.io/rbd&amp;quot; \ --from-literal=key='AQDbfnVfkbqeLxAAiPhSJvt1hVZrM9ntL7JGNQ==' \ --namespace=kube-system 创建存储类 cat &amp;gt; storage_class.yml &amp;lt;&amp;lt;EOF apiVersion: storage.k8s.io/v1 kind: StorageClass metadata: name: rbd annotations: &amp;quot;storageclass.kubernetes.io/is-default-class&amp;quot;: &amp;quot;true&amp;quot; provisioner: kubernetes.io/rbd parameters: monitors: 192.168.1.31:6789,192.168.1.32:6789,192.168.1.33:6789 adminId: admin adminSecretName: ceph-secret adminSecretNamespace: kube-system pool: rbd-k8s1 userId: admin userSecretName: ceph-secret userSecretNamespace: kube-system fsType: ext4 imageFormat: &amp;quot;2&amp;quot; imageFeatures: &amp;quot;layering&amp;quot; EOF kubectl apply -f storage_class.yml 创建pvc 应用绑</description></item><item><title>ceph install</title><link>https://blog.yoogo.top/2020/10/ceph-install/</link><pubDate>Thu, 01 Oct 2020 14:52:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/10/ceph-install/</guid><description>REQUIREMENTS docker NTP lvm Any modern Linux * 3 INSTALL CEPHADM curl --silent --remote-name --location https://github.com/ceph/ceph/raw/octopus/src/cephadm/cephadm chmod +x cephadm ./cephadm add-repo --release octopus ./cephadm install BOOTSTRAP A NEW CLUSTER mkdir -p /etc/ceph cephadm bootstrap --mon-ip 192.168.1.31 =&amp;gt; URL: https://ceph:8443/ User: admin Password: 62zgr41d25 ENABLE CEPH CLI # 1. 使用adm代理 cephadm shell # 2. 安装ceph-comm</description></item><item><title>mac装机必备工具</title><link>https://blog.yoogo.top/2020/09/mac%E5%BF%85%E5%A4%87%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 08 Sep 2020 21:24:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/09/mac%E5%BF%85%E5%A4%87%E5%B7%A5%E5%85%B7/</guid><description>换了台机器，顺便把常用的app记录下来吧 xcode 直接app store安装即可 navicat，idea，vs code。。。 Iterm2(官网下载)，</description></item><item><title>bind9(todo detail)</title><link>https://blog.yoogo.top/2020/08/bind9/</link><pubDate>Thu, 20 Aug 2020 09:54:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/08/bind9/</guid><description>named-checkconf named-checkzone yoogo.local zones/yoogo.local systemctl restart bind9.service # 一定要重启下网络 netplan apply</description></item><item><title>二进制安装k8s</title><link>https://blog.yoogo.top/2020/08/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85k8s/</link><pubDate>Wed, 19 Aug 2020 09:54:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/08/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85k8s/</guid><description>requirment 生产环境的部署Kubernetes集群方案 kubeadm Kubeadm是一个K8s部署工具，提供kubeadm init和kubeadm join，用于快</description></item><item><title>kvm install</title><link>https://blog.yoogo.top/2020/07/kvm/</link><pubDate>Fri, 24 Jul 2020 22:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/07/kvm/</guid><description>install(ubuntu 20) install command # 查看cpu是否支持虚拟化，大于0即为支持 grep -Eoc '(vmx|svm)' /proc/cpuinfo sudo apt update &amp;amp;&amp;amp; sudo apt install cpu-checker -y kvm-ok sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst virt-manager sudo systemctl is-active libvirtd # 按需调整addresses，nam</description></item><item><title>在有网络的情况下配置linux的wifi</title><link>https://blog.yoogo.top/2020/07/%E5%9C%A8%E6%9C%89%E7%BD%91%E7%BB%9C%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E9%85%8D%E7%BD%AElinux%E7%9A%84wifi/</link><pubDate>Fri, 24 Jul 2020 22:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/07/%E5%9C%A8%E6%9C%89%E7%BD%91%E7%BB%9C%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E9%85%8D%E7%BD%AElinux%E7%9A%84wifi/</guid><description>vim /etc/netplan/00-installer-config.yaml network: renderer: NetworkManager wifis: wlp2s0: dhcp4: no dhcp6: no addresses: - 192.168.1.60/24 gateway4: 192.168.1.1 nameservers: addresses: - 223.5.5.5 - 223.6.6.6 access-points: &amp;quot;yoogo5g&amp;quot;: password: &amp;quot;123&amp;quot; 安装插件 sudo apt-get install wpasupplicant network-manager 应用 netplan generate netplan apply</description></item><item><title>helm</title><link>https://blog.yoogo.top/2020/07/helm/</link><pubDate>Thu, 23 Jul 2020 13:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/07/helm/</guid><description>helm 本身 install # 不推荐，慢如蜗牛 curl https://helm.baltorepo.com/organization/signing.asc | sudo apt-key add - sudo apt-get install apt-transport-https --yes echo &amp;quot;deb https://baltocdn.com/helm/stable/debian/ all main&amp;quot; | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list sudo apt-get update sudo apt-get install helm # 快如闪电 sudo snap install helm --classic helm repo add apphub https://apphub.aliyuncs.com 获取charts渲染后的ym</description></item><item><title>jenkins4k8s</title><link>https://blog.yoogo.top/2020/07/jenkins4k8s/</link><pubDate>Sat, 11 Jul 2020 22:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/07/jenkins4k8s/</guid><description>requirment k8s dns组件 helm 持久化存储 Ingress Controller(nginx-ingress/traefik) Gitlab 代码管理仓库</description></item><item><title>k8s基本操作</title><link>https://blog.yoogo.top/2020/05/k8s-learn/</link><pubDate>Wed, 20 May 2020 22:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/05/k8s-learn/</guid><description>删除节点 # 主机执行 kubectl delete node k8s-worker-x # node机执行 sudo kubeadm reset 常用查看命令 kubectl get nodes kubectl describe node xxx 好用的配置 # 永久保存该上下文中所有后续 kubectl 命令使用的命名空间 kubectl config set-context --current</description></item><item><title>ubuntu下k8s安装</title><link>https://blog.yoogo.top/2020/05/k8s-start/</link><pubDate>Wed, 20 May 2020 22:06:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/05/k8s-start/</guid><description>base: 在主机、和节点需要执行（保证虚拟机/物理机内网地址稳定） sudo vim /etc/hostname # k8s-xx，目的：看起来好看 sudo vim /etc/hosts # x.x.x.x k8s-xx，目的：爽 sudo vim /etc/fstab # 将s</description></item><item><title>spring知识点记录</title><link>https://blog.yoogo.top/2020/05/spring%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B0%E5%BD%95/</link><pubDate>Mon, 18 May 2020 14:20:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/05/spring%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B0%E5%BD%95/</guid><description>StopWatch 计时器</description></item><item><title>spring官网文档-spring boot features</title><link>https://blog.yoogo.top/2020/05/spring%E5%AE%98%E7%BD%91%E6%96%87%E6%A1%A3-spring-boot-features/</link><pubDate>Thu, 07 May 2020 14:08:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/05/spring%E5%AE%98%E7%BD%91%E6%96%87%E6%A1%A3-spring-boot-features/</guid><description>1. SpringApplication 默认情况下，会显示信息日志消息，包括一些相关的启动细节，比如启动应用程序的用户。如果您需要一个日志级别，而不是INFO，您可以设置它，如</description></item><item><title>常用环境-gitlab</title><link>https://blog.yoogo.top/2020/04/%E5%B8%B8%E7%94%A8%E7%8E%AF%E5%A2%83/</link><pubDate>Fri, 03 Apr 2020 23:53:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/04/%E5%B8%B8%E7%94%A8%E7%8E%AF%E5%A2%83/</guid><description>docker 加速 sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json &amp;lt;&amp;lt;-'EOF' { &amp;quot;registry-mirrors&amp;quot;: [ &amp;quot;https://1nj0zren.mirror.aliyuncs.com&amp;quot;, &amp;quot;https://docker.mirrors.ustc.edu.cn&amp;quot;, &amp;quot;http://f1361db2.m.daocloud.io&amp;quot;, &amp;quot;https://registry.docker-cn.com&amp;quot; ] } EOF sudo systemctl daemon-reload sudo systemctl restart docker gitlab docker run --detach \ --hostname git.yoogo.cc \ --publish 4430:443 --publish 80:80 --publish 22:22 \ --name gitlab \ --restart always \ --volume ~/gitlab/config:/etc/gitlab \ --volume ~/gitlab/logs:/var/log/gitlab \ --volume ~/gitlab/data:/var/opt/gitlab \ gitlab/gitlab-ce jenkins docker run -d --name jenkins -p 80:8080 -p 50000:50000 -v</description></item><item><title>elk docker单例搭建</title><link>https://blog.yoogo.top/2020/02/elk/</link><pubDate>Sat, 15 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/02/elk/</guid><description>elasticsearch sudo docker pull elasticsearch:7.7.1 sudo docker run -p 9200:9200 -p 9300:9300 --name elasticsearch -e &amp;quot;discovery.type=single-node&amp;quot; -d elasticsearch:7.7.1 elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.7.1/elasticsearch-analysis-ik-7.7.1.zip logstash sudo docker pull logstash:7.7.1 kibana sudo docker pull kibana:7.7.1 sudo docker run --link elasticsearch:elasticsearch -d -it --rm -p 5601:5601 kibana:7.7.1 rancher sudo docker run -d --restart=unless-stopped -p 8080:8080 rancher/server \ --db-host tieba.yoogo9.me --db-port 3307 --db-user root --db-pass 199633 --db-name rancher</description></item><item><title>spring 跨域坑点</title><link>https://blog.yoogo.top/2020/02/spring%E8%B7%A8%E5%9F%9F%E5%9D%91%E7%82%B9/</link><pubDate>Wed, 12 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.yoogo.top/2020/02/spring%E8%B7%A8%E5%9F%9F%E5%9D%91%E7%82%B9/</guid><description>1. 正常的Spring boot项目 基本的spring boot项目只需要写个配置类，实现WebMvcConfigurer接口的addCorsMa</description></item><item><title>2020 第一季度 flag</title><link>https://blog.yoogo.top/2020/02/2020-first-flag/</link><pubDate>Sun, 09 Feb 2020 20:56:01 +0000</pubDate><guid>https://blog.yoogo.top/2020/02/2020-first-flag/</guid><description>后台 深入了解spring ioc 掌握mb, jpa 能用es做搜索和日志 node 能写vue/react 的状态管理 能写ts 能写css</description></item></channel></rss>